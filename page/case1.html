<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="../js/case1.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="../style/case1.css">
    <link rel="preconnect" href="https://fonts.googleapis.com"> 
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@600&display=swap" rel="stylesheet">
    <title>case1</title>
  </head>
  <body style="font-family: 'Raleway', sans-serif;">
    <nav class="navbar navbar-expand-lg navbar-light bg-light" style="font-family: 'Raleway', sans-serif; font-size: large;">
        <div class="container-fluid">
          <a class="navbar-brand" href="https://www.stout.com/en/">
            <img src="../style/logo.jpg" width="100" height="50" alt="">
          </a>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="case1.html">Case1</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="case2.html">Case2</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
     
      <div id="carouselExampleIndicators" class="vertical carousel slide" data-interval="false">
        <ol class="carousel-indicators">
          <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="4"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="5"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="6"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="7"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="8"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="9"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="First slide" style="opacity: 0;">
            <div class="carousel-content center">
              <h1 class="display-4">Case1: Fraud Detection</h1>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="Second slide" style="opacity: 0;">
            <div class="carousel-content center">
              <img src="../style/data.png" alt="" width="1100">
            </div>
            <div class="carousel-caption d-none d-md-block">
              <h5 style="font-size: 23pt;">Data Overview</h5>
              <p style="font-size: 11pt;">There're 11 columns. <br>
              </p>
          </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="Third slide" style="opacity: 0;">
            <div class="carousel-content">
              <table class="center">
                  <tr>
                    <td><div id="pie1_chart_div" style="border: 1px solid #ccc"></div></td>
                    <td><div id="pie2_chart_div" style="border: 1px solid #ccc"></div></td>
                  </tr>  
                </table>
            </div>
            <div class="carousel-caption d-none d-md-block">
                <h5 style="font-size: 23pt;">Data Overview</h5>
                <p style="font-size: 11pt;">Cash In, Cash Out and Payment are more frequent types. <br>
                  Cash In, Cash Out and Transfer have larger transaction amount.
                </p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="Fourth slide" style="opacity: 0;">
            <div class="carousel-content">
              <table class="center">
                <tr>
                  <td><div id="bar1_chart_div" ></div></td>
                  <td><div id="bar2_chart_div" ></div></td>
                </tr>
              </table>
            </div>
            <div class="carousel-caption d-none d-md-block"> 
              <h5 style="font-size: 23pt;">Data Overview</h5>
              <p style="font-size: 11pt;">This is an extremely imbalanced dataset. Fraud class is the minority class.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="Fifth slide" style="opacity: 0;">
            <div class="carousel-content">
              <div class="center">
                <img src="../style/Heatmap.png" width="729" height="629" alt="">
              </div>
            </div>
            <div class="carousel-caption d-none d-md-block">
               
              <h5 style="font-size: 23pt;">Data Overview</h5>
              <p style="font-size: 11pt;">This heatmap shows the correlation between different variables, and we didn't find very strong correlation in this dataset.</p>
            </div>
          </div>
          <div class="carousel-item">
            <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="Sixth slide" style="opacity: 0;">
            <div class="carousel-content center-card" style="max-width: 70%; width: 100%;">
              <div class="card-deck">
                <div class="card text-center w-50" style="height: 21rem;">
                  <table class="table">
                    <h4>Before</h4>
                    <thead class="table-secondary">
                      <tr>
                        <th scope="col">Type</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">Cash In</th>
                      </tr>
                      <tr>
                        <th scope="row">Cash Out</th>
                      </tr>
                      <tr>
                        <th scope="row">Debit</th>
                      </tr>
                      <tr>
                        <th scope="row">Payment</th>
                      </tr>
                      <tr>
                        <th scope="row">Transfer</th>
                      </tr>
                    </tbody>
                  </table>
                </div> 
                <div class="card text-center w-130" style="flex-grow: 2; height: 21rem;">
                  <table class="table">
                    <h4>After</h4>
                    <thead class="table-secondary">
                      <tr>
                        <th scope="col">Type Cash In</th>
                        <th scope="col">Type Cash Out</th>
                        <th scope="col">Type Debit</th>
                        <th scope="col">Type Payment</th>
                        <th scope="col">Type Transfer</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row">1</th>
                        <td>0</td>
                        <td>0</td>
                        <td>0</td>
                        <td>0</td>
                      </tr>
                      <tr>
                        <th scope="row">0</th>
                        <td>1</td>
                        <td>0</td>
                        <td>0</td>
                        <td>0</td>
                      </tr>
                      <tr>
                        <th scope="row">0</th>
                        <td>0</td>
                        <td>1</td>
                        <td>0</td>
                        <td>0</td>
                      </tr>
                      <tr>
                        <th scope="row">0</th>
                        <td>0</td>
                        <td>0</td>
                        <td>1</td>
                        <td>0</td>
                      </tr>
                      <tr>
                        <th scope="row">0</th>
                        <td>0</td>
                        <td>0</td>
                        <td>0</td>
                        <td>1</td>
                      </tr>
                    </tbody>
                  </table>
                </div> 
              </div> 
            </div>
            <div class="carousel-caption d-none d-md-block" style="top:80%; left:50%; transform:translate(-50%, -50%); max-width: 73%; width:100%;">
                <h5 style="font-size: 23pt;">Feature Engineering</h5>
                <p style="font-size: 11pt;">In this part, we first dropped unnecessary columns. <br>
                  Then, we used one hot encoding that converts categorical value into a new categorical column and assigns a binary value of 1 or 0 to those columns. (This table is an example) </p>
            </div>
          </div>
          <div class="carousel-item min-vh-100">
            <img class="d-block w-100" src="../style/Background.jpg" alt="Seventh slide" style="opacity: 0;">
            <div class="carousel-caption d-none d-md-block" style="top:37%; left:50%; transform:translate(-50%, -50%); max-width: 70%; width:100%;">
              <h5 style="font-size: 40pt;">Models and Evaluation</h5>
              <p align="left" style="margin-top: 25pt; font-family: Arial, Helvetica, sans-serif;">
                <li align="left" style="margin: 11px; font-size: 16pt;">This dataset is extremely imbalanced, so I choose F1-score and Confusion Matrix as metric instead of accuracy.</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">I will use three models to make prediction: Logistic Regression, Decision Tree and XGBoost.</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">Dataset will be splited into training data and validation data. Both of the performance will be compared in order to detect potential overfitting issue.</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">F1-score of Logistic Regression model is 0.59.</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">F1-score of Decision Tree model is 0.87(much lower than training data, so overfitting might occurr).</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">F1-score of XGBoost model is 0.61.</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">Logistics Regression model as a baseline model has the lowest F1-score. Decision Tree model has the best performance, but it still needs to be improved.</li>
                <li align="left" style="margin: 11px; font-size: 16pt;">Confusion Matrix is shown as follow. XGBoost model successfully detected most fraudulent transactions, thouth its F1-score is not high. XGBoost model can handle imbalanced data because it gives minority class more weight. </li>
              </p>
            </div>
          </div>
          <div class="carousel-item min-vh-100">
            <img class="d-block w-100" src="../style/Background.jpg" alt="Eighth slide" style="opacity: 0;">
            <div class="carousel-content center-card" style="max-width: 70%; width: 100%;">
              <div class="card-deck" >
                <div class="card text-center" style="margin-top: 9%; width: 19rem; height: 11.5rem;">
                  <table class="table">
                    <h4>Logistic Regression</h4>
                    <thead>
                      <tr>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Actual\Predict</th>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Positive</th>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Negative</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row" style="background-color: rgb(211, 208, 208);">Positive</th>
                        <th scope="row">702</th>
                        <th scope="row">897</th>
                      </tr>
                      <tr>
                        <th scope="row" style="background-color: rgb(211, 208, 208);">Negative</th>
                        <th scope="row">60</th>
                        <th scope="row">1270865</th>
                      </tr>
                    </tbody>
                  </table>
                </div> 
                <div class="card text-center" style="margin-top: 9%; width: 19rem; height: 11.5rem;">
                  <table class="table">
                    <h4>Decision Tree</h4>
                    <thead>
                      <tr>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Actual\Predict</th>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Positive</th>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Negative</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row" style="background-color: rgb(211, 208, 208);">Positive</th>
                        <th scope="row">1368</th>
                        <th scope="row">231</th>
                      </tr>
                      <tr>
                        <th scope="row" style="background-color: rgb(211, 208, 208);">Negative</th>
                        <th scope="row">186</th>
                        <th scope="row">1270739</th>
                      </tr>
                    </tbody>
                  </table>
                </div> 
                <div class="card text-center" style="margin-top: 9%; width: 19rem; height: 11.5rem;">
                  <table class="table">
                    <h4>XGBoost</h4>
                    <thead>
                      <tr>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Actual\Predict</th>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Positive</th>
                        <th scope="col" style="background-color: rgb(211, 208, 208);">Negative</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row" style="background-color: rgb(211, 208, 208);">Positive</th>
                        <th scope="row">1589</th>
                        <th scope="row">10</th>
                      </tr>
                      <tr>
                        <th scope="row" style="background-color: rgb(211, 208, 208);">Negative</th>
                        <th scope="row">2079</th>
                        <th scope="row">1268846</th>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div> 
            </div>
            <div class="carousel-caption d-none d-md-block"> 
              <h5 style="font-size: 23pt;">Confusion Matrix</h5>
            </div>
          </div>
        
        <div class="carousel-item min-vh-100">
          <img class="d-block w-100" src="../style/Background.jpg" alt="Nineth slide" style="opacity: 0;">
          <!-- <div class="carousel-content center-card">
            
          </div> -->
          <div class="carousel-caption d-none d-md-block" style="top:40%; left:50%; transform:translate(-50%, -50%); max-width: 70%; width:100%;">
              <h5 style="font-size: 40pt;">Future Work and Enhancement</h5>
              <p align="left" style="margin-top: 25pt; font-family: Arial, Helvetica, sans-serif;">
                <li align="left" style="margin: 12px; font-size: 18pt;">This dataset is imbalanced, we can randomly oversampling minority class or randomly undersampling majority class to make our data balanced. We're able to build more accurate models with balanced data</li>
                <li align="left" style="margin: 12px; font-size: 18pt;">In this case, Decision Tree model performs well but has overfitting issue, which is very common in Decision Tree models. I will do tuning and use bagging method such as Random Forest to avoid overfitting.</li>
                <li align="left" style="margin: 12px; font-size: 18pt;">Check feature importances and detect what features or attributes are most likely to represent fraud when they have large values.</li>
                <li align="left" style="margin: 12px; font-size: 18pt;">Draw AUC curves and find best threshold that can detect as more fraudulent transactions as possible.</li>
              </p>
          </div>
        </div>
        <div class="carousel-item">
          <img class="d-block w-100 min-vh-100" src="../style/Background.jpg" alt="Tenth slide" style="opacity: 0;">
          <div class="carousel-content center">
            <h1 class="display-4">Thanks for watching!</h1>
          </div>
          
        </div>
      </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
   
     
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>